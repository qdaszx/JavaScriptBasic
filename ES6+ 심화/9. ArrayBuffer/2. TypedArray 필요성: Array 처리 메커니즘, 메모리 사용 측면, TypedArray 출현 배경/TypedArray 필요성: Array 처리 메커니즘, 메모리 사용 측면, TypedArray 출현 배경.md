# Typed Array 필요성

## Array 처리 메커니즘

자바스크립트는 배열에 엘리먼트를 추가하거나 삭제하기가 쉽습니다.

추가하면 배열을 늘려야 하고 삭제하면 배열을 줄여야 합니다.

삭제할 때마다 배열을 조정하면 처리 속도가 떨어집니다.

### Array 처리의 메커니즘

배열의 엘리먼트를 삭제하면

다음의 엘리먼트를 앞으로 당기지 않고

그 위치에 undefined를 설정합니다.

엘리먼트 위치를 앞으로 당기면 처리 속도가 떨어지기 때문입니다.

```js
const list = [10, 20, 30, 40];
delete list[1];
console.log(list); // [10, undefined, 30, 40]
```

    1. delete list[1];
    1번 인덱스 값을 삭제합니다.

    2. undefined를 설정하고 다음 엘리먼트를 앞으로 당기지 않습니다.

## 메모리 사용 측면

자바스크립트의 메모리 사용

값의 크기에 관계없이 64비트(8바이트) 사용합니다.

숫자 1은 8비트이면 되므로 64비트 필요 이상의 메모리를 사용합니다.

### 데이터 크기가 작으면 영향을 미치지 않지만

이미지와 같은 청크 데이터는 메모리 사용의 효율이 떨어지며

처리 속도에도 영향을 미칩니다.

반복 처리를 많이 하는 머신러닝은 실행 여부 자체에 영향이 미칠 수 있습니다.

## TypedArray 필요성

### 배열 길이가 변하지 않는 형태가 필요합니다.

그래야 처리 속도를 향상시킬 수 있습니다.

Int8Array(100)

### 메모리 사용의 최적화입니다.

값 크기에 맞는 메모리를 사용할 수 있습니다.

Int8Array(100): 1은 8비트로 충분

### 바이너리로 데이터를 처리합니다.

메모리에 값을 저장할 때 0과 1의 바이너리로 변환하지만

값이 바이너리이므로 처리가 빠릅니다.

## TypedArray 출현 배경

WebGL에서 처음 스펙을 작성했으며 ES6에 통합되었습니다.

WebGL에서 스펙을 만든 이유는

웹에서 청크 데이터 처리를 위해 메모리 사용의 최소화와 빠른 처리가 필요하기 때문입니다.

TypedArray을 사용하는 Web API로는

Canvas의 ImageData.data가 있습니다.

FileReader.prototype.readAsArrayBuffer()

이런 데이터를 사용하는 Web API에 TypedArray가 적용되고 있습니다.

**빠르고 최소의 메모리를 사용하겠다는 것 입니다.**
