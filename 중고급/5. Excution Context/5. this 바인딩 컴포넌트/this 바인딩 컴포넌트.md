## this 바인딩 컴포넌트

this 바인딩 컴포넌트의 **목적**은 this로 함수를 호출한 오브젝트의 프로퍼티에 악세스하는 것입니다.

this.propertyName 이렇게 입니다.

이러한 악세스 메커니즘은 obj.book() 형태에서 this로 obj를 참조할 수 있도록 this 바인딩 컴포넌트에 obj 참조를 설정합니다.

따라서 obj의 프로퍼티가 변경되면 동적으로 참조됩니다.

이것은 설정, 할당이 아닌 참조이기 때문입니다.

### getPoint() 함수에서 100이 반환되는 과정을 살펴봅니다.

```js
var obj = { point: 100 };
obj.getPoint = function () {
  return this.point;
};
obj.getPoint();
```

```js
실행 콘텍스트: {
  렉시컬 환경 컴포넌트 = {
    환경 레코드(ER): {
      선언적 환경 레코드(DER): {},
      오브젝트 환경 레코드(OER): {}
    },
    외부 렉시컬 환경 참조: {}
  },
  변수 환경 컴포넌트: {},
  this 바인딩 컴포넌트(TBC): {
    point: 100,
    getPoint: function(){}
  }
}
```

obj 프로퍼티는 point, getPoint가 있습니다.

(준비 단계) 마지막 줄에서 obj.getPoint() 함수를 호출합니다.

실행 콘텍스트를 생성합니다.

3개의 컴포넌트 생성하고 첨부합니다. 렉시컬 환경 컴포넌트, 변수 환경 컴포넌트, this 바인딩 컴포넌트

여기서 this 바인딩 컴포넌트에 getPoint에서 this로 obj에 프로퍼티를 참조할 수 있도록 바인딩 시켜놓습니다.

그래서 this 바인딩 컴포넌트 입니다. 함수를 호출하는 시점에 묶어놓는 것입니다.

그래서 이러한 환경에서 바로 obj를 참조할 수 있게 됩니다.

(초기화 단계) 함수 안에는 파라미터, 함수 선언문, 변수 선언이 없습니다.

(실행 단계) return this.point; 실행하게 됩니다.

this는 this 바인딩 컴포넌트(TBC)에서 찾습니다. 이것은 obj.getPoint 함수를 호출할 때 묶어놨습니다.

다만, 오브젝트를 묶어놓은 거지 프로퍼티를 묶어놓은 것은 아닙니다.

그래서 this 바인딩 컴포넌트에 있는 point 프로퍼티가 있으므로 100을 반환하게 됩니다.

그런데, 함수에서 값을 구하는 것은 렉시컬 환경 컴포넌트 안에서 구합니다.

남아 있는 것은 this로 참조해서 프로퍼티 값을 구하거나 this에 있는 메소드를 호출하는 것 입니다. 그것들을 this 바인딩 컴포넌트에 묶어놨습니다.

그렇다면 obj.getPoint 함수에서 obj 프로퍼티가 this 바인딩 컴포넌트에 바인딩 되도록 의도적으로 설계해야 합니다.

> 우리가 실행 콘텍스트를 배우는 가장 큰 목적 중에 하나는 어떻게 만들어야 좋을 것인가를 알기 위한 것입니다. 엔진이 이렇게 생겼네?를 알기 위한 것은 아닙니다.
