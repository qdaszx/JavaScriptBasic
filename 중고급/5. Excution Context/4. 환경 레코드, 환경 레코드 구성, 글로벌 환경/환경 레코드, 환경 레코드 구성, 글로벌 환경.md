# 환경 레코드

## 환경 레코드 구성

```js
실행 콘텍스트(EC): {
  렉시컬 환경 컴포넌트(LEC): {
    환경 레코드(ER): {
      선언적 환경 레코드(DER): {
        point: 123
      },
      오브젝트 환경 레코드(OER): {}
    },
    외부 렉시컬 환경 참조(OLER): {}
  },
  변수 환경 컴포넌트(VEC): {},
  this 바인딩 컴포넌트(TBC): {}
}
```

환경 레코드는 선언적 환경 레코드와 오브젝트 환경 레코드로 구분됩니다.

구분하는 이유는 기록하는 대상에 따라 다르기 때문입니다.

선언적 환경 레코드는 function, 변수, catch문에서 사용합니다.

앞 절에서 환경 레코드에 설정한다고 했는데, 설명을 위한 것으로 실제로 여기에 설정합니다.

오브젝트 환경 레코드는 글로벌 오브젝트의 글로벌 함수와 변수, with문에서 사용합니다.

오브젝트 환경 레코드에 하는 이유는 정적이 아니라 동적이기 때문입니다.

즉, 정적인 것은 선언적 환경 레코드에 기록하고 동적인 것은 오브젝트 환경 레코드에 기록합니다.

## 글로벌 환경

```js
실행 콘텍스트(EC): {
  글로벌 환경(GE): {
    환경 레코드(ER): {
      오브젝트 환경 레코드: 글로벌 오브젝트
    },
    외부 렉시컬 환경 참조(OLER): null
  }
}
```

글로벌 환경은 글로벌 오브젝트에서 사용합니다.

렉시컬 환경 컴포넌트와 형태가 같습니다. 다만, 선언적 환경 레코드가 필요없고 오브젝트 환경 레코드만 필요합니다.

동적으로 함수와 변수를 바인딩한다는 것은 함수에서 var 키워드를 사용하지 않고 변수를 선언하면 이것은 글로벌 변수가 되고 글로벌 오브젝트에 설정됩니다.

글로벌 오브젝트는 어디에 속하지 않습니다. 그래서 외부 렉시컬 환경 참조 값은 null입니다.
