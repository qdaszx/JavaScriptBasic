# 파라미터 값 할당 기준

```js
var obj = {};
obj.getTotal = function (one, two) {
  var one;
  console.log(one + two); // 33
  two = 77;
  console.log("two:" + two); // two:77
};
obj.getTotal(11, 22);
```

> `{key: value}` 형태로 만들어 보세요

(초기화 단계) obj.getTotal(11, 22) 함수가 호출되면 파라미터 값을 실행 콘텍스트로 넘겨줍니다.

파라미터 이름에 값을 매핑하여 선언적 환경 레코드에 설정합니다.

그러면 `{one: 11, two: 22}` 형태로 됩니다.

함수 안 (초기화 단계)는 선언문이 없기에 (변수 초기화 단계)

var one; 우선 선언적 환경 레코드에 one의 존재를 체크합니다.

이미 설정하였으므로 one을 기록하지 않습니다. 즉, 그대로 11값이 유지되고 undefined로 대체되지 않습니다.

two = 77; 선언적 환경 레코드에서 two의 존재를 체크합니다. (식별자 해결 진행)

이미 설정하였으므로 two를 기록하지 않습니다. 즉, 22값이 유지되어 있습니다.

함수에 초기화할 코드가 없으니까 첫 번째 줄로 이동하여 함수 코드를 실행합니다.

(실행 단계) 선언적 환경 레코드는 `{one: 11, two: 22}`상태로 되어 있습니다.

var one; 단지, 변수 선언이므로 처리하지 않습니다.

console.log(one + two); one을 선언적 환경 레코드에서 찾으면 11이고 two를 선언적 환경 레코드에서 찾으면 22이기에 11 + 22의 결과인 33이 콘솔에 출력되는 것 입니다.

two = 77; two를 77로 할당을 하기 전에 선언적 환경 레코드에 식별자 해결을 합니다. 그러면 two가 있기에 77로 할당을 합니다. `{two: 77}`로 변경됩니다.

console.log("two:" + two); 선언적 환경 레코드에서 two의 값을 구하고 two에 값 77이 콘솔에 출력하게 됩니다.

## [정리 시간]

오른쪽 코드를 기준으로 엔진 관점엣 [실행 결과]에 출력된 값의 논리를 제시하세요.

함수의 파라미터 값이 매핑되는 과정을 {key: value} 형태로 기술하고 값이 출력되는 논리를 생각(기술)하세요.

힌트 두 번째, 세 번째 파라미터 이름이 같습니다.

```js
var obj = {};
obj.getTotal = function (one, two, two) {
  console.log(one + two); // 66
};
obj.getTotal(11, 22, 55);
```

(초기화 단계) obj.getTotal(11, 22, 55); 실행하면 파라미터 값을 실행 콘텍스트로 넘겨줍니다.

getTotal 오브젝트의 `[[FormalParamters]]`에서 호출된 함수의 이름을 구하고 `["one", "two", "two"]` 형태가 됩니다.

배열을 하나씩 읽어서 호출한 파라미터 값에서 index 번째의 값을 배열 안에 있는 파라미터의 이름과 순서에 맞추어 값을 매핑합니다.

선언적 환경 레코드에서 `{one: 11}`을 먼저 매핑하고 두번째로 `{two: 22}`를 매핑합니다. 세번째 two를 매핑할 때 two가 이미 이름이 존재하므로 값이 55로 변경되면서 `{two: 55}`가 되어 `{one: 11, two: 55}` 형태로 설정됩니다.

함수 안에 선언문과 변수가 없기에 (코드 실행 단계)로 가서 선언적 환경 레코드에 one과 two가 있는지 확인하고 one: 11이고 two: 22, two: 55이고 two: 11이 먼저 할당됐지만 이름이 존재하므로 값이 55가 되므로 one + two는 66이 콘솔에 출력됩니다.

```js
실행 콘텍스트: {
  렉시컬 환경 컴포넌트 = {
    환경 레코드(ER): {
      선언적 환경 레코드(DER): {
        one: 11,
        two: 55
      },
      오브젝트 환경 레코드(OER): {}
    },
    외부 렉시컬 환경 참조: {}
  },
  변수 환경 컴포넌트: {},
  this 바인딩 컴포넌트(TBC): {
    getPoint: function(){}
  }
}
```
