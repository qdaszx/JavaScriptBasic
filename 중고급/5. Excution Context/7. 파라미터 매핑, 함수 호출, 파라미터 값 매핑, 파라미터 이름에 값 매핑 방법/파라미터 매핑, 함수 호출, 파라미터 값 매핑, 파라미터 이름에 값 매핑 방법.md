# 파라미터 매핑

## 함수 호출

함수가 호출되면 3개의 파라미터 값을 실행 콘텍스트로 넘겨 줍니다.

1. 함수를 호출하는 오브젝트
2. 함수 코드
3. 호출한 함수의 파라미터 값

함수를 호출한 오브젝트를 this 바인딩 컴포넌트에 설정하여 this로 참조하게 됩니다.

함수로 호출한 오브젝트, 즉, 함수 앞에 작성한 오브젝트를 함수에서는 알 수가 없습니다. 그래서 실행 콘텍스트로 넘겨줘야 합니다.

함수 코드는 function 오브젝트의 내부 프로퍼티인 `[[Code]]`에 설정된 것을 넘겨줍니다.

이것은 function 키워드를 만나서 function 오브젝트를 만들 때, 함수 안에 작성한 코드를 `[[Code]]`에 설정합니다.

호출한 함수의 파라미터 값을 넘겨줍니다. 호출된 함수의 Argument 오브젝트에 설정하게 되며 선언적 환경 레코드에 바인딩되어 들어가게 됩니다.

그런데 호출된 함수의 파라미터 이름은 이미 function 오브젝트에 작성되어 있습니다.

외부에서 호출한 함수는 파라미터 값을 넘겨주지 않으면 모르기 때문입니다.

## 파라미터 값 매핑

파라미터 값 매핑이란? 호출한 함수에서 넘겨준 파라미터 값을 호출된 함수의 파라미터 **작성 순서에 맞추어** 값을 매핑하는 것을 뜻합니다

엔진 처리 관점에서 본다면 실행 콘텍스트로 넘겨 준 파라미터 값과 function 오브젝트의 `[[FormalParameters]]`에 작성된 이름에 값을 매핑하고 결과를 선언적 환경 레코드에 설정하는 것입니다.

여기서 `[[FormalParameters]]`란 호출된 함수의 이름이 여기에 들어가 있습니다. function 키워드를 만나서 function 오브젝트를 만들 때 설정하는 것 입니다.

## 파라미터 이름에 값 매핑 방법

```js
var obj = {};
obj.getTotal = function (one, two) {
  return one + two;
};
console.log(obj.getTotal(11, 22, 77)); // 33
```

**실행 콘텍스트로 넘겨준 파라미터 값**을 설명 편의를 위해 `param`이라고 하겠습니다.

getTotal 오브젝트의 `[[FormalParameters]]`에서 호출된 함수의 파라미터 이름을 구합니다.

`[[FormalParameters]]`을 설명 편의를 위해 `name`이라고 하겠습니다.

그리고 name은 `["one", "two"]` 형태입니다.

`[[FormalParameters]]`는 function 오브젝트를 생성할 때 설정했습니다.

`name` 배열을 하나씩 읽습니다.

`param`에서 index 번째의 값을 구합니다. 이때 인덱스에 값이 없으면 undefined 반환합니다.

`name`의 파라미터 이름과 `param`에서 index번째 값을 구한 값을 선언적 환경 레코드에 설정합니다. `{one: 11, two: 22}` 형태로 설정합니다.

이와 같이 매핑해서 선언적 환경 레코드에 설정하게 되는 것 입니다.

`name`을 전부 읽을 때까지 반복을 하게 됩니다.

그런데 77은 매핑되는 변수가 없습니다. 이에 대한 기준은 파라미터 기준으로 해서 인덱스로 넘겨준 파라미터 값을 매핑하는 것 입니다.

77은 Arguments 오브젝트에는 들어가 있다.
