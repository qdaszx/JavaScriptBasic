# 스코프 Scope

## 스코프 목적

**범위를 제한**하여 **식별자를 해결**하려는 것입니다.

스코프의 사전적 의미는 범위, 영역입니다. 즉, 영역에서 식별자를 해결하려고 하는 것이 스코프의 목적입니다.

여기서 **식별자 해결(Identifier Resolution)**이란?

변수 이름, 함수 이름을 찾는 것 입니다.

어디서 찾을까? 이때 스코프를 사용합니다.

그런데 이름을 찾게 되면 **값을 구할 수 있습니다.**

식별자 해결의 궁극적인 목표는 결국 값을 구하는 것 입니다.

만약 값을 구했는데 그 값이 함수이면, 호출할 수 있는 것이고,

그 값이 Number이면 사칙연산을 할 수 있는 것 입니다.

한편, 식별자 해결을 크게는 이름을 설정하는 것도 식별자 해결이라고 할 수 있습니다.

변수 이름을 스코프에 등록했습니다. 이것은 나중에 사용하자는 목적이 있는 것 입니다.

그 다음에 검색을 통해서 식별자를 찾습니다.

두 단계가 있습니다. 등록과 검색이 있습니다.

이것을 통칭해서 식별자 해결이라고 합니다.

그런데 **스코프는 식별자 해결을 위한 것 입니다.**

## 스코프 설정

```js
function book() {
  var point = 123;
  function get() {
    console.log(point);
  }
  get();
}
book();
```

처음에 엔진 컨트롤이 function book(){}을 만나면 function 오브젝트를 생성하고 스코프를 설정합니다.

이때 생성한 function 오브젝트의 내부 프로퍼티인 `[[Scope]]`에 스코프를 설정합니다.

이때 스코프가 결정됩니다.

이런 식으로 function 오브젝트가 생성될 때 만들 때 만들어지는 스코프를 **정적 스코프라고 합니다.**

반면, 함수를 호출할 때 스코프를 결정하는 것을 **동적 스코프라고 합니다.**

그런데 동적 스코프에서 함수를 만 번을 호출 했다고 가정해보겠습니다.

스코프를 만 번을 만들어야 합니다.

반면 정적 스코프는 function 오브젝트를 생성할 때 그때 한 번만 만들면 되니까, 1: 10000이 됩니다.

당연히 효율성은 정적 스코프가 뛰어 납니다.

이것이 자바스크립트의 스코프 설정 메커니즘입니다.

> function 오브젝트를 만들 때, 스코프를 결정한다는 것입니다.

book 함수를 호출하게 되면 엔진 컨트롤이 point 변수로 이동하게 됩니다.

안에서 함수 선언문을 찾습니다. get 함수를 발견하고 function 오브젝트를 생성합니다.

스코프를 설정합니다. 이때 function 오브젝트의 내부 프로퍼티인 `[[Scope]]`에 **스코프**를 설정합니다. (-> 여기서 스코프는 영역 범위의 개념입니다.)

이때 스코프를 결정되며 이것을 정적 스코프라고 합니다.
