## 함수 코드 해석 순서

1. 함수 선언문 해석
2. 변수 초기화
3. 코드 실행

처음 한번 돌 때는 함수 안에 작성된 코드 중에서 함수 선언문을 모두 추출해서 순서대로 해석합니다 그러고 스코프에 등록을 합니다.

그다음에 다시 처음으로 올라가서 함수 코드 안에서 변수를 추출합니다. 그리고 그 값으로 undefined을 설정합니다. 그리고 이것을 스코프에 저장합니다. 여기 까지하면 식별자 해결에 문제가 없습니다.

비록 값이 undefined이지만 식별자 해결에 문제가 없습니다.

그리고 코드 실행을 하게 됩니다.

그때는 값을 할당하게 됩니다.

## 함수 선언문 해석

1. 마지막 줄에서 book() 함수를 호출합니다.
2. 엔진 제어가 book 함수의 첫 번째 줄로 이동
3. 함수 안에서 함수 선언문을 찾습니다.
4. function getBook(){}이 함수 선언문이므로 function 오브젝트를 생성합니다.
5. 더 이상 함수 선언문이 없으므로 다시 함수의 첫 번째 줄로 이동합니다.

## 변수 초기화

6. debugger를 실행하지 않습니다.
7. var title = "JS책"; title 변수에 undefined를 할당, "JS책"를 할당하지 않습니다.
8. function getBook(){}은 초기화를 했으므로 초기화하지 않습니다.
9. var readBook = function(){}; readBook 변수에 undefined를 할당합니다. 함수 표현식은 변수를 선언만 합니다.
10. 여기까지가 초기화 단계이며 다시 함수 첫번째 줄로 이동합니다.

## 코드 실행

1. debugger를 실행하며, 실행이 멈춥니다.
2. var title = "JS책"; title 변수에 "JS책"을 할당합니다.
3. function getBook(){return title}; 실행이 아닌 선언으므로 다음 줄로 이동
4. var readBook = function(){}; function 오브젝트를 생성하여 readBook 변수에 할당하고 function 오브젝트가 되므로 이제 readBook 함수를 호출할 수 있습니다.
5. getBook() 함수를 호출합니다.

지금까지 이와 같은 방법으로 3번 돌면서 함수 선언문을 해석하고 변수를 초기화하고 실행하면서 값을 하나씩 설정합니다.

이렇게 엔진은 3단계를 거치면서 함수 안에 코드를 선언하고 초기화하고 실행합니다.
