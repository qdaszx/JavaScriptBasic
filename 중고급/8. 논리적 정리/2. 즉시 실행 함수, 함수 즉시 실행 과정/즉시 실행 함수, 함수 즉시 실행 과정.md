## 즉시 실행 함수

함수 즉시 실행이란 엔진이 함수를 만났을 때 자동으로 함수를 실행합니다.

즉, function 키워드를 만나면 function 오브젝트를 만들고 함수를 실행합니다.

즉시에 실행하므로 즉시 실행 함수라고 합니다.

```js
(function () {
  console.log("JS북");
})();
```

이러한 형태입니다. 이것을 IIFE(Immedeately Invoked Function Expression)이라고 합니다.

함수 이름이 없으므로 함수 선언문, 함수 표현식도 아닙니다. 그런데 문법 에러가 발생하지 않습니다.

이것을 무명 함수, 익명 함수라고도 부릅니다.

## 함수 즉시 실행 과정

표현식 평가 - 소괄호는 그룹핑 연산자입니다.

```js
console.log("[코드2] 표현식 해석");
var total = 1 + 2;
console.log(total);
```

그룹핑 연산자는 소괄호 안의 표현식을 평가하고 평가 결과를 반환합니다.

여기서 소괄호와 표현식 평가가 키포인트입니다.

함수 이름이 필요한데 함수에 이름이 없으면 문법 에러가 납니다.

```js
console.log("[코드3] 함수 이름 필요");
var value = function () {
  return 100;
};
console.log(value()); // 100
```

함수 표현식으로 엔진이 function 키워드를 만나면 function 오브젝트를 생성하고 value 변수에 할당합니다.

value 변수를 선언하지 않으면 함수 이름이 없으므로 문법 에러가 납니다.

함수 표현식도, 함수 선언문도 아니기 때문입니다.

value()처럼 function 끝에 소괄호를 첨부하면 함수를 호출합니다.

이때, 소괄호가 그룹핑 연산자가 아닌 함수를 호출하는 역할을 합니다.

함수 끝에 소괄호를 작성한 경우엔

```js
console.log("[코드4] 끝에 소괄호 작성");
var value2 = (function () {
  return 100;
})();
console.log(value2); // 100
```

function 키워드를 만나면 function 오브젝트를 생성하고 소괄호가 있으니까 함수를 호출합니다.

함수에서 반환한 100을 value 변수에 할당합니다.

소괄호에 함수를 작성할 경우엔

```js
console.log("[코드5] 소괄호()에 함수 작성");
var value3 = (function () {
  return 100;
})();
console.log(value3); // 100
```

소괄호 안에 함수를 작성합니다.

소괄호는 그룹핑 연산자입니다. 즉, 소괄호 안에 표현식을 평가합니다.

그런데 표현식이 함수라서 function 오브젝트를 만들게 되고 function 끝에 소괄호가 있으므로 함수를 실행합니다.

## 함수 즉시 실행 과정 2

그룹핑 연산자에서 반환된 값이 할당되는 변수를 작성하지 않은 형태

```js
console.log("[코드6] 값 반환을 사용하지 않음");
(function () {
  console.log(100); // 100
})();
```

그룹핑 연산자를 작성하지 않으면 함수 이름이 없으므로 문법 에러가 납니다.

그런데, 그룹핑 연산자를 작성하면 표현식에 function을 작성한 것이므로 문법 에러가 발생하지 않습니다.

표현식과 표현식 평가 결과는 평가 결과가 반환할 때까지 메모리에 저장하고 평가 결과를 반환하면 지워집니다.

만약에 (1 + 2)의 결과가 메모리에 저장된다면 매우 많은 메모리가 필요합니다.

코드로 만든 오브젝트도 메모리에 저장되지 않습니다. 메모리 저장한다는 것은 그것을 재활용한다는 것인데 이렇게 코드를 작성한다는 것은 재활용하지 않겠다라는 것 입니다.

따라서 저장해야 할 것이 있다면 표현식 밖의 변수, 프로퍼티에 저장해야 합니다.

저장할 필요가 없는 1회성 코드이면서 엔진이 function 키워드를 만나는 시점에 즉시 실행해야 한다면 그룹핑 연산자 안에 표현식으로 작성해야 합니다.

무명 함수는 그룹핑 연산자 안의 코드를 한 번만 사용할 때 사용합니다.

대부분 초깃값을 설정할 때 사용합니다.
