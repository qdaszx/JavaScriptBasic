## 클로저와 무명 함수

무명 함수 안에 작성한 값과 함수는 무명 함수가 끝나면 지워집니다.

따라서 다시 사용하려면 저장을 해야 합니다.

한편, 무명 함수는 원래 저장하지 않으려는 의도로 사용합니다.

이때 클로저를 활용하시면 두가지의 목적을 달성할 수 있습니다.

클로저는 함수 밖 스코프의 변수와 함수를 사용할 수 있습니다.

또한 변수는 외부에서 직접 접근할 수 없으므로 정보를 보호할 수 있습니다.

무명 함수 안에서 클로저의 변수를 가진 함수를 반환하면 함수를 재사용할 수 있고 정보도 보호할 수 있습니다.

```js
console.log("[코드1] 클로저와 무명 함수");
var book = (function () {
  var point = 100;
  function getPoint(param) {
    return point + param;
  }
  return getPoint;
})();
console.log(book(200)); // 300
```

book 함수를 바로 호출하고 엔진이 함수 안을 읽습니다.

function 키워드가 있고 getPoint function 오브젝트를 만들어서 내부 프로퍼티인 `[[Scope]]`에 스코프를 설정합니다.

point 변수에 100을 할당합니다.

return getPoint 를 만나게 되면 getPoint 함수를 반환하게 됩니다.

그것은 book 변수에 할당됩니다. 그러면서 book(200)으로 호출하게 되면

getPoint 함수가 호출되면서 param에 200이 매핑됩니다.

지금까지 보면 함수 안에 있는 것들은 날라가지 않았습니다.

일반적으로 날라가야 하는데(무명 함수), return을 하게 되므로써 안에 있는 것들이 살았습니다.

왜냐하면 이것은 내부 프로퍼티인 `[[Scope]]`에 바인딩 되어 있기 때문입니다.

따라서 book(200)으로 호출하면

book 함수 안에서 point 변수 값을 사용할 수 있는 것 입니다.

함수가 호출되면 Scope에 있는 것을 외부 렉시컬 환경 참조에 바인딩 시킵니다.

그 Scope에는 point 변수가 있습니다. getPoint 함수 안에는 point 변수가 없지만 식별자 해결을 할 수 있습니다 (why? 외부 렉시컬 환경 참조에 point가 있어서!)

그러면 point값 100, param은 선언적 환경 레코드에 param: 200으로 설정되어 있으므로 100+200= 300이 반환하면서 출력됩니다.

## JS에서 클로저

함수에서 함수 밖의 변수 사용은 자바스크립트의 기본적인 메커니즘입니다.

이러한 논리적 근거는 외부 렉시컬 환경 참조에 함수가 속한 스코프가 설정되기 때문입니다.

클로저는 이를 나타내는 용어입니다.

용어보다 논리적 구조 이해하는 것이 중요합니다.
